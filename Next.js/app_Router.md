# 구조

- file system 구조
- folder = 하나의 디렉토리 구간

app router에서 app 아래의 디렉토리는 모두 하나의 페이지입니다.

# 페이지

어떤 하나의 페이지(디렉토리) 안에서 공통적으로 사용되는 구조가 존재합니다. 아래의 규칙을 준수하면 next.js가 알아서 자동으로 세팅해줍니다. `/app`에서부터 `/app/example`, 즉 `app`폴더와 `example`폴도 모두 아래와 같은 약속이 적용됩니다. `app`은 글로벌한 디렉토리라고 생각하면 편합니다.

## `layout.tsx`

- 한번만 랜더링되고 그 디렉토리 내부에서의 공통 레이아웃으로 랜더링되지 않습니다. 이곳에서 SEO를 페이지마다 추가로 커스텀하여 세팅할 수 있습니다. `app/layout.tsx`에서

- `app/layout.tsx`: 공통된 HTML 레이아웃을 제공함

### `app/layout.tsx`

전역 SEO를 세팅할 수 있으며, html 태그를 사용해 랜더링합니다.

- 공통 레이아웃 제공: Next.js App Router를 사용하는 경우, app/layout.tsx는 /app 경로 아래의 모든 페이지에 대해 공통된 레이아웃을 제공합니다.

### SSR과 CSR 모두 적용

이 레이아웃은 서버 사이드 렌더링(SSR)과 클라이언트 사이드 렌더링(CSR) 모두에서 적용됩니다.

#### SSR

1. Next.js는 SSR시 클라이언트의 요청이 들어오면 HTML을 그립니다.
2. 해당 HTML에 `layout.tsx`에서 정의해둔 레이아웃이 적용됩니다.
3. 클라이언트에게 전송됩니다.

#### CSR

1. 클라이언트가 서버에서 전송한 HTML를 로드합니다.
2. 리액트가 재랜더링을 수행합니다.
3. 이때 `app/layout.tsx`가 적용되어 공통된 레이아웃을 제공합니다.

## `page.tsx`

해당 페이지(디렉토리)의 메인 컴포넌트로 기능합니다.

## `error.tsx`

해당 페이지(디렉토리)의 하위 디렉토리에서 발생하는 에러를 랜더링합니다.

## `loading.tsx`

해당 페이지(디렉토리)의 하위 디렉토리에서 로딩 상태 발생 시 자동으로 해당 컴포넌트를 랜더링합니다.

예정: 공식 문서를 기반으로 정확도를 향상시키겠습니다.

# 특수 페이지

1. 404페이지 : `app/[..not found]`로 not found(404) 에러가 발생했을 때 띄울 공통 404 페이지를 제작할 수 있습니다.
